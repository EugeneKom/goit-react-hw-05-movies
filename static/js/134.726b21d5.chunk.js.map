{"version":3,"file":"static/js/134.726b21d5.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/API/API.js","components/MovieList/MovieListMarcup.styled.js","components/MovieList/MovieListMarcup.jsx","pages/Movies.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'api_key=6628254a4cb0b774890e6f0759ab9dd7';\nconst MOST_POPULAR_FILMS = '/trending/movie/day';\nconst SEARCH_FILMS_API = '/search/movie';\n\nconst fetchTopMovies = async () => {\n  try {\n    const response = await fetch(`\n  ${BASE_URL}${MOST_POPULAR_FILMS}?${KEY}&language=en`);\n    if (response.ok) {\n      const result = await response.json();\n      return result.results;\n    } else throw new Error(`Bad request${response.status}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchFindMovies = async query => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}${SEARCH_FILMS_API}?${KEY}&language=en&query=${query}`\n    );\n    if (response.ok) {\n      const result = await response.json();\n      return result.results;\n    } else throw new Error(`Bad request${response.status}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovieToId = async id => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/movie/${id}?${KEY}&language=en-US`\n    );\n    if (response.ok) {\n      const result = await response.json();\n      return result;\n    } else throw new Error(`Bad request${response.status}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchActorMovieToId = async id => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/movie/${id}/credits?${KEY}&language=en-US`\n    );\n    if (response.ok) {\n      const result = await response.json();\n      return result;\n    } else throw new Error(`Bad request${response.status}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovieReviewsToId = async id => {\n  try {\n    const response = await fetch(\n      `${BASE_URL}/movie/${id}/reviews?${KEY}&language=en-US`\n    );\n    if (response.ok) {\n      const result = await response.json();\n      return result.results;\n    } else throw new Error(`Bad request${response.status}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst API_FETCH = {\n  fetchTopMovies,\n  fetchFindMovies,\n  fetchMovieToId,\n  fetchActorMovieToId,\n  fetchMovieReviewsToId,\n};\nexport default API_FETCH;\n","import styled from 'styled-components';\n\nexport const MovieListWrapper = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { MovieListWrapper } from './MovieListMarcup.styled';\n\nconst MovieListMarcup = ({ films }) => {\n  const location = useLocation();\n\n  return (\n    <MovieListWrapper>\n      {films.map(film => {\n        return (\n          <li key={film.id}>\n            <Link to={`/movies/${film.id}`} state={{ from: location }}>\n              {film.title}\n            </Link>\n          </li>\n        );\n      })}\n    </MovieListWrapper>\n  );\n};\n\nexport default MovieListMarcup;\n","import React, { useEffect, useState } from 'react';\nimport API_FETCH from 'components/API/API';\nimport MovieListMarcup from 'components/MovieList/MovieListMarcup';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const handleSearchMovie = value => {\n    API_FETCH.fetchFindMovies(value).then(data => {\n      if (data.length === 0) {\n        alert(\n          'К сожалению, по вашему запросу ничего не найдено. Попробуйте изменить ключевые слова и повторить поиск.'\n        );\n      }\n      setMovies(data);\n    });\n  };\n\n  const handleAddURL = ({ target }) => {\n    if (target.value.trim() === '') {\n      setSearchParams({});\n      return;\n    }\n    setSearchParams({ query: target.value });\n  };\n  useEffect(() => {\n    if (query !== '') {\n      handleSearchMovie(query);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const formSubmit = evt => {\n    evt.preventDefault();\n    handleSearchMovie(query);\n  };\n  return (\n    <>\n      <h1>Movies</h1>\n      <form>\n        <input type=\"text\" onChange={evt => handleAddURL(evt)} value={query} />\n        <button type=\"submit\" onClick={evt => formSubmit(evt)}>\n          find\n        </button>\n      </form>\n      <MovieListMarcup films={movies} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASE_URL","KEY","fetchTopMovies","fetch","response","ok","json","result","results","Error","status","console","log","fetchFindMovies","query","fetchMovieToId","id","fetchActorMovieToId","fetchMovieReviewsToId","MovieListWrapper","styled","films","location","useLocation","map","film","to","state","from","title","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","handleSearchMovie","API_FETCH","data","length","alert","useEffect","type","onChange","evt","target","trim","handleAddURL","onClick","preventDefault","formSubmit"],"sourceRoot":""}